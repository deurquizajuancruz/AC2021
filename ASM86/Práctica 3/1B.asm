PA EQU 30H
CA EQU 32H
ORG 1000H
PRENDIDA DB "LLAVE PRENDIDA"
FIN1 DB ?
APAGADA DB "LLAVE APAGADA"
FIN2 DB ?
ORG 2000H
MOV AL,64H
OUT PA,AL
OUT CA,AL
IN AL,PA
CMP AL,80H
JNS PREN
APA: MOV BX,OFFSET APAGADA
MOV AL, OFFSET FIN2 - OFFSET APAGADA
INT 7
JMP FINAL
PREN: IN AL,CA
CMP AL,80H
JS APA
MOV BX,OFFSET PRENDIDA
MOV AL, OFFSET FIN1 - OFFSET PRENDIDA
INT 7
FINAL: INT 0
END
