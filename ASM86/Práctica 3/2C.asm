PIO EQU 30H
ORG 1000H
CARAC DB ?
ORG 1500H
MSJ DB "INGRESE UN CARACTER: "
FIN DB ?
ORG 2000H
MOV AL,1
OUT PIO+2,AL
MOV AL,0
OUT PIO+3,AL
IN AL,PIO
AND AL,0FDH
OUT PIO,AL
MOV DL,0
PEDIR: MOV BX,OFFSET MSJ
MOV AL,OFFSET FIN - OFFSET MSJ
INT 7
MOV BX,OFFSET CARAC
INT 6
POLL:IN AL,PIO
AND AL,1
JNZ POLL
MOV AL,[BX]
OUT PIO+1,AL
IN AL,PIO
OR AL,2
OUT PIO,AL
IN AL,PIO
AND AL,0FDH
OUT PIO,AL
INC DL
CMP DL,5
JNZ PEDIR
INT 0
END
