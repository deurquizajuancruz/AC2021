1A-

PB EQU 31H
CB EQU 33H
ORG 1000H
PATRON DB 0C3H
ORG 2000H
MOV AL,0
OUT CB,AL
MOV AL,PATRON
OUT PB,AL
INT 0
END

1B-

PA EQU 30H
CA EQU 32H
ORG 1000H
PRENDIDA DB "LLAVE PRENDIDA"
FIN1 DB ?
APAGADA DB "LLAVE APAGADA"
FIN2 DB ?
ORG 2000H
MOV AL,64H
OUT PA,AL
OUT CA,AL
IN AL,PA
CMP AL,80H
JNS PREN
APA: MOV BX,OFFSET APAGADA
MOV AL, OFFSET FIN2 - OFFSET APAGADA
INT 7
JMP FINAL
PREN: IN AL,CA
CMP AL,80H
JS APA
MOV BX,OFFSET PRENDIDA
MOV AL, OFFSET FIN1 - OFFSET PRENDIDA
INT 7
FINAL: INT 0
END

1D-

CONT EQU 10H
COMP EQU 11H
EOI EQU 20H
INT1 EQU 25H
PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H

ORG 28
IPCLK DW 3000H

ORG 1000H
PATRON DB 0

ORG 3000H
INC PATRON
CMP PATRON,0FFH
JZ TERMINAR
MOV AL,PATRON
OUT PB,AL
MOV AL,0
OUT CONT,AL
JMP FIN
TERMINAR: INC DX
MOV AL,0FFH
OUT EOI+1,AL
FIN: MOV AL,20H
OUT EOI,AL
IRET

ORG 2000H
CLI
MOV AL,0FDH
OUT EOI+1,AL ; HABILITO LA INTERRUPCION POR TIMER
MOV AL,7
OUT INT1,AL ; ID DE INTERRUPCION
MOV AL,1
OUT COMP,AL ; LE PASO 1 AL COMPARADOR DEL TIMER
MOV AL,0
OUT CB,AL ; LE PASO 0 A CB
OUT PB,AL ; LE PASO 0 A PB
OUT CONT,AL ; LE PASO 0 AL CONTADOR DEL TIMER
MOV DX,0
STI
LAZO: CMP DX,1
      JNZ LAZO
INT 0
END

1E-

CONT EQU 10H
COMP EQU 11H
EOI EQU 20H
INT1 EQU 25H
PB EQU 31H
CB EQU 33H

ORG 32
IDCLK DW 3000H

ORG 1000H
PATRON DB 00000001B
       DB 00000010B
       DB 00000100B
       DB 00001000B
       DB 00010000B
       DB 00100000B
       DB 01000000B
       DB 10000000B

ORG 3000H
CMP DL,8
JZ ATRAS
MOV DH,0
INC DL
MOV AL,[BX]
OUT PB,AL
INC BX
JMP FIN
ATRAS: DEC BX
MOV AL,[BX]
OUT PB,AL
INC DH
CMP DH,8
JNZ FIN
MOV DL,0
FIN: MOV AL,0
OUT CONT,AL
MOV AL,20H
OUT EOI,AL
IRET

ORG 2000H
CLI
MOV AL,0FDH
OUT EOI+1,AL ; HABILITO LA INTERRUPCION POR TIMER
MOV AL,0
OUT CB,AL 
INC AL
OUT COMP,AL ; LE PASO 1 AL COMPARADOR
MOV AL,8
OUT INT1,AL ; PONGO EL ID DEL CLOCK
MOV AL,0
OUT CONT,AL
MOV DH,1
MOV DL,0
MOV BX,OFFSET PATRON
STI
LAZO: JMP LAZO
INT 0
END

2A-

PIO EQU 30H
ORG 1000H
A DB "A"
ORG 2000H
MOV AL,1
OUT PIO+2,AL ; STROBE EN 0, BUSY EN 1 Y LO DEMAS EN 0
MOV AL,0
OUT PIO+3,AL ; INICIALIZO STROBE EN 0
IN AL,PIO
AND AL,0FDH ; STROBE EN 0
OUT PIO,AL
POLL:IN AL,PIO
AND AL,1
JNZ POLL ; POLLING: ESPERO QUE BUSY ESTA EN 0 PARA PODER IMPRIMIR
MOV AL,A
OUT PIO+1,AL
IN AL,PIO
OR AL,2
OUT PIO,AL ; FORZO STROBE A 1 PARA PODER IMPRIMIR
INT 0
END

2B-

PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H

ORG 1000H
MENSAJE DB "ORGANIZACION Y "
        DB "ARQUITECTURA DE "
        DB "COMPUTADORAS"
FIN DB ?

ORG 2000H
MOV AL,1
OUT CA,AL
DEC AL
OUT CB,AL
IN AL,PA
AND AL,0FDH
OUT PA,AL
MOV BX,OFFSET MENSAJE
MOV CL,OFFSET FIN - OFFSET MENSAJE
POLL: IN AL,PA
AND AL,1
JNZ POLL
MOV AL,[BX]
OUT PB,AL
IN AL,PA
OR AL,2
OUT PA,AL
IN AL,PA
AND AL,0FDH
OUT PA,AL
INC BX
DEC CL
JNZ POLL
INT 0
END

2C-

PIO EQU 30H
ORG 1000H
CARAC DB ?
ORG 1500H
MSJ DB "INGRESE UN CARACTER: "
FIN DB ?
ORG 2000H
MOV AL,1
OUT PIO+2,AL
MOV AL,0
OUT PIO+3,AL
IN AL,PIO
AND AL,0FDH
OUT PIO,AL
MOV DL,0
PEDIR: MOV BX,OFFSET MSJ
MOV AL,OFFSET FIN - OFFSET MSJ
INT 7
MOV BX,OFFSET CARAC
INT 6
POLL:IN AL,PIO
AND AL,1
JNZ POLL
MOV AL,[BX]
OUT PIO+1,AL
IN AL,PIO
OR AL,2
OUT PIO,AL
IN AL,PIO
AND AL,0FDH
OUT PIO,AL
INC DL
CMP DL,5
JNZ PEDIR
INT 0
END

2D-

EOI EQU 20H
INT0 EQU 24H
PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H

ORG 16
IDF1O DW 3000H

ORG 1000H
MENSAJE DB "INGRESE LA CANTIDAD DE CARACTERES A INGRESAR(MAXIMO 9): "
FIN1 DB ?
MENSAJE2 DB "INGRESE LOS CARACTERES: "
FIN2 DB ?
CANTIDAD DB ?
FINAL DB 0
ORG 1100H
CARACTER DB ?


ORG 3000H
MOV BX,OFFSET CARACTER
POLL: IN AL,PA
AND AL,1
JNZ POLL
IMP: MOV AL,[BX]
OUT PB,AL
IN AL,PA
OR AL,2
OUT PA,AL
IN AL,PA
AND AL,0FDH
OUT PA,AL
INC BX
DEC DH
JNZ POLL
INC FINAL
MOV AL,0FFH
OUT EOI,AL
MOV AL,20H
OUT EOI,AL ; SE FINALIZA LA INTERRUPCION
IRET

ORG 2000H
CLI
MOV AL,0FEH
OUT EOI+1,AL ; HABILITO LA INTERRUPCION POR F10
MOV AL,4
OUT INT0,AL ; ID DE INTERRUPCION
MOV AL,1
OUT CA,AL ; LE PASO 1 A CA
DEC AL
OUT CB,AL ; LE PASO 0 A CB
IN AL,PA
AND AL,0FDH
OUT PA,AL ; FORZO EL BIT DE STROBE A 0
MOV BX,OFFSET MENSAJE
MOV AL, OFFSET FIN1 - OFFSET MENSAJE
INT 7
MOV BX,OFFSET CANTIDAD
INT 6
MOV DL,[BX]
SUB DL,30H
MOV DH,DL
MOV BX,OFFSET MENSAJE2
MOV AL,OFFSET FIN2 - OFFSET MENSAJE2
INT 7
MOV BX,OFFSET CARACTER
LEER: INT 6
INC BX
DEC DL
JNZ LEER
STI
LAZO: CMP FINAL,1
      JNZ LAZO
INT 0
END

3A-

HAND EQU 40H
ORG 1000H
MSJ DB "INGENIERIA E "
DB "INFORMATICA"
FIN DB ?
ORG 2000H
IN AL, HAND+1
AND AL, 7FH
OUT HAND+1, AL
MOV BX, OFFSET MSJ
MOV CL, OFFSET FIN-OFFSET MSJ
POLL: IN AL, HAND+1
AND AL, 1
JNZ POLL
MOV AL, [BX]
OUT HAND, AL
INC BX
DEC CL
JNZ POLL
INT 0
END

3C-

EOI EQU 20H
INT2 EQU 26H
HAND EQU 40H

ORG 28
IPHAND DW 3000H

ORG 1000H
MENSAJE DB "UNIVERSIDAD NACIONAL "
        DB "DE LA PLATA"
FIN DB ?

ORG 3000H
MOV AL,[BX]
OUT HAND,AL
INC BX
DEC CL
JNZ FINAL
MOV AL,0FFH
OUT EOI+1,AL
FINAL: MOV AL,20H
OUT EOI,AL
IRET

ORG 2000H
MOV BX,OFFSET MENSAJE
MOV CL,OFFSET FIN - OFFSET MENSAJE
CLI
MOV AL,0FBH
OUT EOI+1,AL ; HABILITO LA INTERRUPCION POR HANDSHAKE
MOV AL,7
OUT INT2,AL
MOV AL,80H
OUT HAND+1,AL
STI
LAZO: CMP CL,0
      JNZ LAZO
INT 0
END

3D-

HAND EQU 40H

ORG 1000H
MSJ DB "INGRESE LOS 5 CARACTERES: "
FIN1 DB ?
ORG 1100H
CARAC DB ?

ORG 2000H
MOV BX,OFFSET MSJ
MOV AL,OFFSET FIN1 - OFFSET MSJ
INT 7
MOV CX,0
MOV BX,OFFSET CARAC
LEER: INT 6
INC CX
INC BX
CMP CX,5
JNZ LEER
IN AL,HAND+1
AND AL,7FH
OUT HAND+1,AL
MOV BX,OFFSET CARAC
POLL: IN AL,HAND+1
AND AL,1
JNZ POLL
MOV AL,[BX]
OUT HAND,AL
INC BX
DEC CX
JNZ POLL
DEC BX
MOV CX,5
POLL2: IN AL,HAND+1
AND AL,1
JNZ POLL2
MOV AL,[BX]
OUT HAND,AL
DEC BX
DEC CX
CMP CX,0
JNZ POLL2
INT 0
END

3E-

EOI EQU 20H
INT2 EQU 26H
HAND EQU 40H

ORG 28
IPHAND DW 3000H

ORG 1000H
MSJ DB "INGRESE LOS 5 CARACTERES: "
FIN1 DB ?
FINAL DB 0
ORG 1100H
CARAC DB ?

ORG 3000H
IN AL,HAND+1
AND AL,7FH
OUT HAND+1,AL
MOV BX,OFFSET CARAC
POLL: IN AL,HAND+1
AND AL,1
JNZ POLL
MOV AL,[BX]
OUT HAND,AL
INC BX
DEC CX
JNZ POLL
DEC BX
MOV CX,5
POLL2: IN AL,HAND+1
AND AL,1
JNZ POLL2
MOV AL,[BX]
OUT HAND,AL
DEC BX
DEC CX
CMP CX,0
JNZ POLL2
INC FINAL
IRET

ORG 2000H
CLI
MOV BX,OFFSET MSJ
MOV AL,OFFSET FIN1 - OFFSET MSJ
INT 7
MOV CX,0
MOV BX,OFFSET CARAC
LEER: INT 6
INC CX
INC BX
CMP CX,5
JNZ LEER
MOV AL,0FBH
OUT EOI+1,AL ; HABILITO LA INTERRUPCION POR HANDSHAKE
MOV AL,7
OUT INT2,AL
MOV AL,80H
OUT HAND+1,AL
STI
LAZO: CMP FINAL,1
      JNZ LAZO
INT 0
END